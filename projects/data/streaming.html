<!DOCTYPE HTML>
<!--

2017 ryan reede
template: pixelarity.com

sitemap:
|base| 
	-index.html
	-about.html
	-|assets|
	-|images|
	-|projects|
		-data.html
		-vr.html 		
		-video.html
		-|data|
			-images.html
			-simpsons.html
			-streaming.html		**YOU ARE HERE**
			-yelp.html
		-|video|
			-modofcards.html
			-misc.html
		-|vr|
			-bcinvr.html		
			-joycestick.html
			-irishvr.html		
		
-->

<html>
	<head>
		<title>Streaming</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="../../assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">

							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<ul>
							<li><a href="../../index.html"><h2>Home</h2></a></li>
							
							<li><a href="../../about.html"><h3>About Me</h3></a></li>

							
							<li><a href="../vr.html"><h3>Virtual Reality</h3></a>
								<ul>
									<li>
									<a href="../vr/joycestick.html">Joycestick</a>
									</li>
									
									<li>
									<a href="../vr/bcinvr.html">Boston College in VR</a></li>
	
									<li>
									<a href="../vr/irishvr.html">Making it Irish</a>
									</li>
	
								</ul>
							</li>
							
							<li><a href="../data.html"><h3>Data Analysis</h3></a>
							
								<ul>
									<li>
									<a href="images.html">K-Nearest Images</a>
									</li>
									
									<li>
									<a href="simpsons.html">Simpsons Text Generation</a></li>
	
									<li>
									<a href="streaming.html"><strong>Streaming Data Analysis</strong></a>
									</li>
																		
									<li>
									<a href="yelp.html">Yelp Academic Dataset</a>
									</li>
								</ul>	

							</li>
							<li><a href="../video.html"><h3>Video</h3></a>
							
							
								<ul>
									<li>
									<a href="../video/modofcards.html">Mod of Cards</a>
									</li>
									
									<li>
									<a href="../video/misc.html">Miscellaneous</a></li>
	
								</ul>						
							
							
							</li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<div class="inner">
						  <h1>Streaming Data</h1>
						  <span class="image main"></span>

						<h2>Overview</h2>
						<p>For Big Data Research Day 2016 at Boston College, I built a demonstration to breakdown how smartphone data is sorganized, streamed and processed in realtime for apllications such as mobile VR. Here is the resulting paper from this research. O<a href="https://github.com/reedery/TangoStreamAndroid">n Github here. </a></p>
						<p>Smartphones and tablets have incredible hardware built into their systems, but more often than not, the software built for the devices doesn’t tap into it. This project seeks to explore the methods in which massive amount of data points from a mobile sensor can be reliably and quickly reported to a remote server. Thus, with our software we set out to help the layman understand the practical applications of accessing smartphone data streams by reliably transmitting it from a mobile device to a processing service. From mobile Virtual and Augmented Reality, UI/UX research, gaming, navigation and more the applications for transmitting information from mobile devices to servers are endless. We wanted to be able to process and visualize the data coming off the device wirelessly. From the get-go, a number of problems became very clear to us.</p>
						<hr /> <h2>Understanding the Data</h2>
						<p>Of the four V’s that describe the difficulty in managing and working with ‘Big Data’ (volume, variety, veracity and velocity), velocity was the biggest hurdle for us to overcome. The Android tablet we were working with was designed for <a href="https://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping">SLAM</a> applications thanks to its extremely precise sensors and a 2.3Ghz, quad-core mobile processor. As a byproduct of such powerful hardware, our model was capable of producing a ton of data in very little time. In addition to the speed in which the data was being offloaded from the tablet, we needed to find a reliable way to transport the data stream object on the android device to a central server where it can be processed and/or visualized such that a client with limited knowledge of data streams, linear transformations and euler coordinates could understand what the data coming off the tablet represented. Creating a proper visualization of the 3D axis, and transformations became the final major issue for us to tackle given the mentioned properties of our data. </p>
						<p><img src="../../images/streaming/data.jpg" width="60%" style="margin: 5px 12px" align="left">Although the Project Tango device is capable of producing nearly 250,000 data points per second, we understood the complexity associated with processing a live data streams. Additionally, we didn’t want to clog our project with any extraneous data that wouldn’t be vital to our end goal of helping a non-technical person understand the practical applications of such sensor data. Our work focused on the Rotational data that came in in 4 parts (quaternion) from the tablet. More info on a quaternion (from <a href="http://www.cprogramming.com/tutorial/3d/quaternions.html">cprogramming</a>): </p>
						<blockquote>A quaternion represents two things. It has an x, y, and z component, which represents the axis about which a rotation will occur. It also has a w component, which represents the amount of rotation which will occur about this axis. In short, a vector, and a float. With these four numbers, it is possible to build a matrix which will represent all the rotations perfectly, with no chance of gimbal lock.</blockquote>
<hr />
<h2>Programming Paradigm</h2>

<img src="../../images/streaming/parad.jpg" width="100%" style="margin: 5px 0px" >
						<br><br>
						<p>There were multiple layers of communication involved in reliably transmitting the sensor data from the tablet to the processing server. Due to the nature of Kafka, and the size of the Kafka library, mobile devices are not recommended to be used as Kafka producers. Kafka is intended to permeate and manage messages, but not necessarily be the the communication agent between devices. For that reason all of the sensor readings were sent through a socket from the mobile device to a host Java instance on the remote server. One the host Java instance received the sensor reading it writes the message to a Kafka topic. By writing to the Kafka topic as soon as the sensor data reaches the server we ensure that no messages get lost, and that we are able to create a robust stream. </p>
						<p> The Kafka consumer is a Jetty server process running on the same remote server. The Jetty server consumes Kafka messages from the the sensor data topic and relays those messages to the frontend javascript instance through a Websocket. Kafka consumers cannot be implemented in frontend javascript, so this paradigm must be used. Once the javascript instance, running in an observer’s browser receives the sensor data it uses it to update a 3D graphic on the screen.  Using the producer consumer paradigm allows us to have a very generalizable solution for multiple streams and the system could easily be extrapolated to work to receive multiple different types of data from the tablet. Using a queue based paradigm allows for elasticity in the consumption of messages; if the end of the line of communication slows down or pauses the system is safe due to Kafka’s permeation of data. The durability of the system ensures no messages get lost and that the system is pause tolerant. Below is the Server class that sends Kafka KeyedMessages through the socket.</p>
						<script src="https://gist.github.com/reedery/47c42ef89370a36e4aeef37f50bd8ce2.js"></script>
<hr /> <h2>Analysis and Conclusion</h2>
<p>Although our project did not leverage machine learning algorithms or make predictions, it was still an extremely valuable exercise for a number of reasons. Primarily, we became much more proficient in working with data streams, streaming objects and how they should be dealt with when communicating between servers and layers. In many enterprise instances of Apache Spark, a live data stream is coming in; rarely a backlog of data in a clean .csv file. Likewise, we familiarized ourselves with Kafka, an industry standard tool for breaking data streams into individually analyzable and fault tolerant chunks. Our animation ended up inducing a noticeable amount of lag time, but this too taught us a valuable lesson: Kafka is not optimized for realtime data visualization, and that the flow of data through a system should occur through as few layers as possible. The point in our system architecture where the data is sent to the browser is the most appropriate place to add an instance of Spark into the mix as the data queuing from Kafka was already set in place. Additionally, the animation smoothness would benefit from comming directly from the tablet instead of the Kafka channel</p>
<p>Project by Ryan Reede and Cam Lunt.</p>
					  </div>
					</div>

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">

<section>
	<h2>Connect</h2>

	<ul class="icons">
		<li>
		<a href="https://twitter.com/ryreede" class="icon style2 fa-twitter">
		<span class="label">Twitter</span>
		</a>
		</li>
		
		<li>
		<a href="https://github.com/reedery" class="icon style2 fa-github"><span class="label">GitHub</span>
		</a>
		</li>
									
		<li>
		<a href="https://www.linkedin.com/in/ryreede" class="icon style2 fa-linkedin">
		<span class="label">LinkedIn</span>
		</a>
		</li>
		 
		 
		<li><a href="https://www.instagram.com/reedles/" class="icon style2 fa-instagram"><span class="label">Instagram</span>
		</a>
		</li>
		
		<li><a href="https://vimeo.com/user715423" class="icon style2 fa-vimeo"><span class="label">Vimeo</span>
		</a>
		</li>

		<li>
		<a href="mailto:reede.ryan@gmail.com" class="icon style2 fa-envelope-o"><span class="label">Email</span>
		</a>
		</li>
	</ul>
</section>
							<ul class="copyright">
							  <li>&copy; 2017 Ryan Reede</li>
						  </ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="../../assets/js/jquery.min.js"></script>
			<script src="../../assets/js/skel.min.js"></script>
			<script src="../../assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="../../assets/js/main.js"></script>

	</body>
</html>